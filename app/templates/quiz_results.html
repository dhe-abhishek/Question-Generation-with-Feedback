<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quiz Results | BloomMind AI</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: 'Poppins', sans-serif; background: #0f172a; color: white; padding: 50px; }
        .results-card { background: #1e293b; padding: 30px; border-radius: 15px; max-width: 800px; margin: 0 auto; }
        .score-circle { width: 150px; height: 150px; border-radius: 50%; border: 5px solid #38f9d7; 
                        display: flex; align-items: center; justify-content: center; font-size: 2rem; margin: 20px auto; }
        .review-item { border-bottom: 1px solid rgba(255,255,255,0.1); padding: 15px 0; }
        .correct { color: #43e97b; }
        .incorrect { color: #f87171; }
    </style>
</head>
<body>
    <div class="results-card">
        <h1 style="text-align: center;">Quiz Completed!</h1>
        <div class="score-circle">
            {{ percentage }}%
        </div>
        <p style="text-align: center;">You scored {{ score }} out of {{ total }}</p>

        <div style="margin-top: 40px;">
            <h3>Review Answers:</h3>
            {% for item in results %}
            <div class="review-item">
                <p><strong>Q: {{ item.question }}</strong></p>
                <p class="{{ 'correct' if item.is_correct else 'incorrect' }}">
                    Your Answer: {{ item.student_answer }} 
                    {% if item.is_correct %}<i class="fas fa-check"></i>{% else %}<i class="fas fa-times"></i>{% endif %}
                </p>
                {% if not item.is_correct %}
                <p style="color: #94a3b8;">Correct Answer: {{ item.correct_answer }}</p>
                {% endif %}
            </div>
            {% endfor %}
        </div>
        
        <a href="{{ url_for('main.generate_quiz') }}" style="display: block; text-align: center; color: #38f9d7; margin-top: 20px; text-decoration: none;">Try Another Quiz</a>
    </div>
</body>
</html>